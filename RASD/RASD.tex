\documentclass{report}
\usepackage[utf8]{inputenc}
\usepackage{natbib}
\usepackage[pagestyles]{titlesec}
\usepackage{graphicx}
\usepackage{multicol}
\usepackage{multirow}
\usepackage{booktabs}
\usepackage{array}
\usepackage{tabularx}
\usepackage{ltablex}
\newcolumntype{L}[1]{>{\raggedright\arraybackslash}p{#1}}
\newcolumntype{C}[1]{>{\centering\arraybackslash}p{#1}}
\newcolumntype{R}[1]{>{\raggedleft\arraybackslash}p{#1}}


\titleformat{\chapter}[display]{\normalfont\bfseries}{}{0pt}{\Huge}
\newpagestyle{mystyle}
{\sethead[\thepage][][\chaptertitle]{}{}{\thepage}}
\pagestyle{mystyle}

\title{Front Page Test}
\author{AmorosiniCasaliFioravanti}
\date{October 2019}

%TODO: Se non troviamo una copertina migliore prima di consegnare 
%      il progetto eliminiamo la prima pagina e ne facciamo una con paint

\begin{document}
\maketitle 
\tableofcontents
\chapter{Introduction}
This document represents the Requirement Analysis and Specification Document (RASD) for SafeStreets: an application that aims to improve the safety of urban areas by giving its users the possibility to report parking violations and accidents to authorities. The goal of this document is to supply a description of the system in terms of its functional and non functional requirements, listing all of its goals, discussing the constraints and the limits of the software, and indicating the typical use cases that will occur after the release. This document is addressed to the stakeholders, who will evaluate the correctness of the assumptions and decisions contained in it, and to the developers who will have to implement the requirements.
\section{Purpose}
SafeStreets is a crowd-sourced application that intends to provide users with the possibility to notify authorities when traffic violations and accidents occur. In order to report a traffic violation, users have to compile a report containing a picture of the violation, the date, time, position, and type of violation. SafeStreets stores all the information provided by users, completing it with suitable metadata (timestamps, sender's GPS if available, etc.). In particular, in case the user had not provided any information regarding the license plate of the car breaking the traffic rules, SafeStreets runs an algorithm to read it from the submitted picture. Moreover, the application allows both end-users and authorities to mine the information that has been received: this function allows users to perform useful statistics, for example to find out which area is more dangerous or which vehicles commit the most violations. If the municipality offers a service that allows users to retrieve the information about the accidents that occur in its territory, SafeStreets can cross this information with its own data to identify potentially unsafe areas, and suggest possible interventions.
In addition, the municipality could offer a service that takes the information about the violations coming from SafeStreets, and generates traffic tickets from it. In this case, SafeStreets ensures that the chain of custody of information coming from users is never broken, thus information is never altered. Information about issued tickets can be used by SafeStreets to build statistics, for example to have a feedback on the effectiveness of the application.
\subsection{Goals}
\begin{itemize}
    \item {[G.1]} The System allows the Users to access the functionalities of the application from different locations and devices.
    \item {[G.2]} The System allows Guests to authenticate themselves either as Authority or Citizen.
    \begin{itemize}
    		\item {[G.2.1]}The System offers different levels of visibility to different roles.
    \end{itemize}
    \item {[G.3]} The System allows the Citizens to document traffic violations and accidents to Authorities by compiling a Report.
    \item {[G.4]} The System stores the reports provided by the Citizens.
    \begin{itemize}
    		\item {[G.4.1]} If the Citizen has not provided any information about the license plate, the System runs an algorithm to read it from the submitted picture.
    	\end{itemize}     
    %\item {[G.6]} The System allows the Citizens to add testimony of an accident they have seen.
    \item {[G.6]} The System analyzes the stored information to detect unsafe areas.
    \begin{itemize}
    		\item {[G.6.1]}If the System collects multiple reports for the same problem in a given area, it can suggest possible interventions to the Authorities.
    		\item {[G.6.2]}If allowed by Authorities, SafeStreets can cross their information about accidents with its own in order to improve the analysis.
    \end{itemize}    
    \item{[G.7]} If allowed by Authorities, SafeStreets can access their information about issued tickets to build statistics and evaluate its effectiveness.
    \begin{itemize}
        \item {[G.7.1]} The System ensures that the chain of custody of the information coming from the Citizens is never broken.
    \end{itemize}
\end{itemize}

\section{Scope}
% Stuff on world and shared phenomena
According to the \textit{World} and \textit{Machine} paradigm, proposed by M. Jackson and P. Zave in 1995, we can distinguish the \textit{Machine}, that is the portion of the system to be developed, from the \textit{World}, that is the portion of the real-world affected by the machine. In this way, we can classify the phenomena in three different types: World, Machine and \textit{Shared} phenomena, where the latter type of phenomena can be controlled by the world and observed by the machine or controlled by the machine and observed by the world.
\newline
In this context, the most relevant phenomena are organized as in the following table.
\begin{table}[!ht]
		%{pix.acc.} & {mean.acc.} & {mean.IoU} & {f.w.IoU}
		\begin{center}
		%\hspace{-4.5cm}
		\begin{tabular}{|C{3.5cm}||C{3.5cm}||C{3.5cm}|}
			\toprule
			\textbf{World} &\textbf{Shared}& \textbf{Machine}\\
			\midrule
			\midrule
			\textbf{Traffic violation}: circumstance in which someone doesn't respect the traffic rules &\textbf{Registration/Login}$^{1}$: a Guest can sign up to the application or log in if already registered.&\textbf{DBMS query}: operation performed to retrieve/store data\\
			\midrule
			\textbf{Accident}: event that caused damage to things or people.&\textbf{Commit of a report}$^{1}$: action of sending a report documenting a traffic violation or an accident.&\textbf{API queries}: request for third-part services.\\
			\midrule
			&\textbf{Send notifications}$^{2}$: to notify the Autorithies when a report is submitted.&\textbf{use of Hash}: compute the hash function to ensure that information is never altered.\\
			\midrule
			&\textbf{Build statistics}$^{2}$: computation of statistics to find unsafe areas, to see which veichles commit multiple infractions and also to monitor the trend of issued tickets.&\textbf{Credential validation}: checking that Citizens can not access as Authorities\\ 
			\midrule
			%\textbf{Generation of traffic tickets}$^{1}$: to generate traffic tickets using the information about traffic violation.&	\\			
			&\textbf{Safety suggestions}$^{2}$: to give suggestions for possible safe interventions (e.g add a barrier).&\\
			\bottomrule
		\end{tabular}
		\end{center}
		\caption{In the table above, \textit{1} refers to shared phenomena controlled by the world and observed by the machine, whereas \textit{2} refers to the phenomena controlled by the machine and observed by the world}.
		\label{tab:multicol}
	\end{table}
	
\section{Definitions, Acronyms and Abbreviations}
\subsection{Definitions}
\begin{itemize}
	\item \textit{Traffic violation}: the infraction of the highway code by someone (e.g double-way parking).
	\item \textit{System}: the totality of the hardware/software applications that contribute to provide the service concerned.
    \item \textit{Guest}: someone who has yet to sign up and who is not able to access any feature of the application.
    \item \textit{User}: a registered user who has logged in.
	\begin{itemize}
		\item \textit{Citizen}: end-user who can send Reports of traffic violation. It has limited visibility over the stored information.
		\item \textit{Authority}: user who has access to the history of Reports and is notified whenever a new Report is recieved. It has full visibility over the data exposed by the System.
	\end{itemize} 
    %\item \textit{Logged in User}: a registered user who logged in.
    \item \textit{Report}: documentation of a traffic violation. It contains a picture of the violation, the date, time, position, and type of violation. Some fields can be omitted in case an accident is being reported.
    \item \textit{Hash}: a mathematical algorithm that maps data of arbitrary size to a bit string of fixed size. It is a one-way function, that is, a function which is practically infeasible to invert.
    \item \textit{Chain of custody}: chronological documentation that records the sequence of custody, control, transfer, analysis, and disposition of physical or electronic evidence.
    \item \textit{Third-party services}: services used by the System in order to provide extra functionalities (e.g. image recognition).
    %\item \textit{Notification}: message that advise the Authorities of a traffic violation.
\end{itemize}
\subsection{Acronyms}
\begin{itemize}
\item \textbf{API}: \textit{Application Program Interface}, set of routines, protocols and tools for building software applications on top of this one.
\item \textbf{OCR}: \textit{Optical Character Recognition}, software dedicated to the detection of characters contained in a document and to their transfer to digital text that can be read by a machine. In this context, OCR will be used to read license plates.
\item \textbf{UML}: \textit{Unified Modeling Language}, is a standard visual modeling language intended to be used for analysis, design, and implementation of software-based systems.
\item \textbf{GPS}: \textit{Global Positioning System}, technology widely used to get the user's position.
\item \textbf{DBMS}: \textit{Data Base Management System}, software that provides organized space memory to store information.
\item \textbf{ID}: \textit{Identification}, a unique key given to each registered User.
\item \textbf{UML}: \textit{Unified Modeling Language}, is a standard visual modeling language intended to be used for analysis, design, and implementation of software-based systems.
\end{itemize}
\subsection{Abbreviations}
\begin{itemize}
\item {[G$_{i}$]}: i-th goal.
\item {[R$_{i}$]}: i-th requirement.
\item {[D$_{i}$]}: i-th domain assumption.
\end{itemize}
\section{Reference Documents}
\begin{itemize}
	\item Specification document: "SafeStreets Mandatory Project Assignment.pdf".
	\item IEEE std 830-1998: "IEEE Recommended Practice for Software Requirements Specifications" (http://www.math.uaa.alaska.edu/~afkjm/cs401/).
	\item Alloy documentation: "http://alloy.lcs.mit.edu/alloy/documentation.html".
	\item UML diagrams: "https://www.uml-diagrams.org".
\end{itemize}
\section{Document Structure}
This document is presented as it follows:
\begin{enumerate}
	\item {\textbf{Introduction}} contains a general description of the system and its goals, presenting the problem in an informal way.
	\item{\textbf{Overall description}} gives a general description of the application, focusing on the context of the system and giving further details about shared phenomena. Furthermore, we will provide the specifications of constraints, dependencies and assumptions, that show how the System is integrated with the real world.
	\item{\textbf{Specific requirements}} goes into details about functional and non-functional requirements and a list of all possible interctions with the System is provided using use cases and sequence diagrams.
	\item {\textbf{Formal analysis using Alloy}} contains the Alloy model of some critical aspects of the System with all the related comments. A proof of consistency and an example of the generated world are also provided.
	\item {\textbf{Effort spent}} shows the time spent writing this document by each member of the team.
	\item {\textbf{References}}
\end{enumerate}

\chapter{Overall Description}
\section{Product Perspective}
We are going to analyze all the shared phenomena that are listed in the previous section. The concepts are clarified throw class and state diagrams.\\
\\
\textbf{Registration/Login} (world controlled, machine observed)\\
A Guest can sign up to the application or log in, if already registered. 
In the case of a new submit, the System provides a form which the User have to fill with his data, specifying if he/she is 
a Citizien or an Authority. Then the data are collected in the associated DBMS.\\
\\ 
\textbf{Commit of a report} (world controlled, machine observed)\\
A Citizen can send a report with a description of the violation compiling a structured field. He/she has the possibility to  attach a picture. The System will check if the compiled fields are consistent and complete, then it will send the Report to the DBMS (Figure \ref{fig:State1}). \\
\\
\textbf{Send Notification} (Machine controlled, World observed)\\
The System notifies the Authorities whenever a report is submitted by a Citizen. 
We assume that the notified Authorities will accordingly handle the violation reported. (Figure \ref{fig:State1}).
\begin{figure}[!ht]
\begin{center}
\includegraphics[width=.8\textwidth]{./img/img_Report.jpg}
\end{center}
\caption{SafeStreets' statehart diagram about the collection, notification, and storage of a Report.}
\label{fig:State1}
\end{figure} 
\newpage
\noindent \textbf{Build statistics} (Machine controlled, World observed)\\
The System analyzes the stored data and computes general statistics on the violations. In this way, the System is able to find unsafe areas and which vehicles commit the most violations. All Users can access general statistics, however only Authorities can request statistics on private information such as traffic tickets. If the System is allowed to access municipality's data, statistics can be enhanced by crossing it with SafeStreets' information (Figure \ref{fig:State2}).  \\
\\
\textbf{Safety suggestions} (Machine controlled, World observed)\\
The System gives Authorities suggestions for possible safe interventions. His knowledge is based on the statistics previously computed (Figure \ref{fig:State2}).\\
\\

\begin{figure}[!ht]
\begin{center}
\includegraphics[width=.8\textwidth]{./img/img_UnsafeAreas.jpg}
\end{center}
\caption{SafeStreets' statechart diagram of the creation of statistics on unsafe areas.}
\label{fig:State2}
\end{figure}

\newpage

\subsection{Class Diagram}
%Something later
\begin{figure}[!ht]
\begin{center}
\includegraphics[width=\textwidth]{./img/SWE1.png}
\end{center}
\caption{SafeStreets' class diagram.}
\label{fig:UML}
\end{figure} 

\newpage

\subsubsection{Use Case Diagrams}

\begin{figure}[ht!]
\begin{center}
\includegraphics[width=.8\textwidth]{./img/UseCase1.png}
\end{center}
\caption{Guest use case.}
\label{fig:UseCase1}
\end{figure}

\begin{figure}[ht!]
\begin{center}
\includegraphics[width=.8\textwidth]{./img/UseCase2.png}
\end{center}
\caption{User and Report Manager use case.}
\label{fig:UseCase2}
\end{figure}

\begin{figure}[ht!]
\begin{center}
\includegraphics[width=.8\textwidth]{./img/UseCase3.png}
\end{center}
\caption{Information Manager use case.}
\label{fig:UseCase3}
\end{figure}
\newpage
\subsection{Use Case Template}
%%%%%%%%%%%%%%%%%%%%%%
\begin{center}
	\textbf{Register Account}
\end{center}

\begin{tabularx}{\linewidth}{| l | X |}
	\hline
	\textbf{ID} & UC1\\
	
	\hline
	\textbf{Description} & The \textbf{\textit{Guest}} wants to create an account for the appli-
	cation.\\
	
	\hline
	\textbf{Actors} & \textbf{\textit{Guest}}\\
	
	\hline
	\textbf{Preconditions} & The \textbf{\textit{Guest}} opens the application.\\
	
	\hline
	\textbf{Flow of Events} & \parbox{0.7\textwidth}{\begin{enumerate}
			\item The \textbf{\textit{Guest}} select the function \textit{Sign Up}.
			\item The \textbf{\textit{System}} select the options between \textbf{\textit{Citizen}} or \textbf{\textit{Authority}}.
			\item The \textbf{\textit{System}} returns the right form (based on the \textbf{\textit{Guests'}} decision) to enter all the required data
			: username, email address and pass-word. In the \textbf{\textit{Authoritys'}} form the username is the badge number and it must be add also the municipality of belonging. These data will be used for the future logins.	
			\item The \textbf{\textit{Guest}} fills the form with all the required information.
			\item The \textbf{\textit{User Manager}} checks if all the informa-
			tions are correct, generates a random activation
			URL and asks the \textbf{\textit{Mailing System}} to forward his/her URL to the email address of the \textbf{\textit{Guest}}.
			\item The \textbf{\textit{Guest}} receives the mail and click on the URL. The \textbf{\textit{User Manager}} stores the data provided by the \textbf{\textit{User}} .
			
	\end{enumerate}}\\
	
	\hline
	\textbf{Postconditions} & The \textbf{\textit{Guest}} is able to log in.\\
	
	\hline
	\textbf{Exceptions} & \parbox{0.7\textwidth}{ \begin{enumerate}
			\item The \textbf{\textit{User Manager}} recognizes invalid infor-
			mation than shows an error message. The flow
			restarts from point 2. 
		\end{enumerate}}\\
	
	\hline
	
\end{tabularx}
%%%%%%%%%%%%%%%%%%%%%%
\begin{center}
	\textbf{Log in}
\end{center}

\begin{tabularx}{\linewidth}{| l | X |}
	\hline
	\textbf{ID} & UC2\\
	
	\hline
	\textbf{Description} & The \textbf{\textit{User}} wants to log in to the application.\\
	
	\hline
	\textbf{Actors} & \textbf{\textit{User}}\\
	
	\hline
	\textbf{Preconditions} & The \textbf{\textit{User}} wants to log in to the application and is already registered.\\
	
	\hline
	\textbf{Flow of Events} & \parbox{0.7\textwidth}{\begin{enumerate}
			\item The \textbf{\textit{User}} inserts his/her credential (username and password).
			\begin{itemize}
			\item If the User is an \textbf{Authority}, he/she has to insert his/her badge number as username.
			\end{itemize}
			\item The \textbf{\textit{User}} taps the Sign In button.			
			\item The \textbf{\textit{Login Manager}} checks if all the credentials provided are correct.
			
			
	\end{enumerate}}\\
	
	\hline
	\textbf{Postconditions} & The \textbf{\textit{User}} is logged in either as \textbf{Citizen} or \textbf{Authority}.\\
	
	\hline
	\textbf{Exceptions} & \parbox{0.7\textwidth}{ \begin{enumerate}
			\item The \textbf{\textit{Login Manager}} recognizes invalid credentials than shows an error message. The flow restarts from point 2. 
		\end{enumerate}}\\
	
	\hline
\end{tabularx}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{center}
	\textbf{Send report}
\end{center}

\begin{tabularx}{\linewidth}{| l | X |}
	\hline
	\textbf{ID} & UC3\\
	
	\hline
	\textbf{Description} & A \textbf{\textit{Citizen}} reports a traffic violation.\\
	
	\hline
	\textbf{Actors} & \textbf{\textit{Citizen}}\\
	
	\hline
	\textbf{Preconditions} & The \textbf{\textit{Citizen}} witnesses a traffic violation and wants to report it.\\
	
	\hline
	\textbf{Flow of Events} & \parbox{0.7\textwidth}{\begin{enumerate}
			\item The \textbf{\textit{Citizen}} log in to the application.
			
			\item The \textbf{\textit{Citizen}} compiles a Report.
			\begin{itemize}
			\item He/She takes a picture of the violation reporting also the date,the location and the type of the offense.			
			\end{itemize}
			\item The \textbf{\textit{Citizen}} taps the \textit{Send} button.	
			\item The \textbf{\textit{Report Manager}} checks if the report is consistent.		
	\end{enumerate}}\\
	
	\hline
	\textbf{Postconditions} & The report is send and the \textbf{\textit{Citizen}} recives a message that confirms the sending was successfull.\\
	
	\hline
	\textbf{Exceptions} & \parbox{0.7\textwidth}{ \begin{enumerate}
			\item The \textbf{\textit{Report Manager}} recognizes invalid report than shows an error message saying what is missing. The flow restarts from point 2. 
		\end{enumerate}}\\
	
	\hline
	
\end{tabularx}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{center}
	\textbf{Notify and Store report}
\end{center}

\begin{tabularx}{\linewidth}{| l | X |}
	\hline
	\textbf{ID} & UC4\\
	
	\hline
	\textbf{Description} & The \textbf{\textit{Report Manager}} recieves a report from an User and notify the \textbf{\textit{Authority}} about this. Then the report is stored in a database.\\
	
	\hline
	\textbf{Actors} & \textbf{\textit{Report Manager}}\\
	
	\hline
	\textbf{Preconditions} & The \textbf{\textit{Report Manager}} recives a valid report.\\
	
	\hline
	\textbf{Flow of Events} & \parbox{0.7\textwidth}{\begin{enumerate}
			\item The \textbf{\textit{Report Manager}} checks the list of the avaiable authorities and their municipality.			
			\item The \textbf{\textit{Report Manager}} notify the Authority of the municipality where the violation occurred about the report.
			
			\item The \textbf{\textit{Report Manager}} stores the report in the database.
					
			
	\end{enumerate}}\\
	
	\hline
	\textbf{Postconditions} & The \textbf{\textit{Authorities}} are notified about the report and the report is avaiable to be taken from the database by the \textbf{\textit{Information Manger}} to compute statistics.\\
	
	\hline
	\textbf{Exceptions} & \parbox{0.7\textwidth}{ \begin{enumerate}
			\item If the type of the report recived by the \textbf{\textit{Report Manager}} is about \textit{Incident} the report is not notify to the authority but it is only stored in the database. 
		\end{enumerate}}\\
	
	\hline
	
\end{tabularx}
%%%%%%%%%%%%%%%%%%%
\begin{center}
	\textbf{Retrieve information}
\end{center}
\begin{tabularx}{\linewidth}{| l | X |}
	\hline
	\textbf{ID} & UC5\\
	
	\hline
	\textbf{Description} & \textbf{\textit{Users}} want to see some statistics (e.g the safeness of a certain area) and ask this to the \textbf{\textit{Information Manager}}.\\
	
	\hline
	\textbf{Actors} & \textbf{\textit{Users}} and \textbf{\textit{Information Manager}}\\
	
	\hline
	\textbf{Preconditions} & The \textbf{\textit{Information Manager}} has already computed the statistics that the user intends to consult. Every night the \textbf{\textit{Information Manager}} recompute all the statistics due to possible new stored reports. \\
	
	\hline
	\textbf{Flow of Events} & \parbox{0.7\textwidth}{\begin{enumerate}
			\item The \textbf{\textit{User}} taps on \textit{Statistics} button.
			\item The \textbf{\textit{System}} display a menù with all the possible statistic options to compute.
			\item The \textbf{\textit{User}} chooses the statistics in which he/she is interested in.
			
			
			\item The \textbf{\textit{Information Manager}} shows the statistics that the user has selected.
					
			
	\end{enumerate}}\\
	
	\hline
	\textbf{Postconditions} & The \textbf{\textit{User}} sees the results of his/her request.\\
	
	\hline
	\textbf{Exceptions} & \parbox{0.7\textwidth}{ \begin{enumerate}
			\item If the \textbf{\textit{Authority}} doesn't give the permission to treat the traffic ticket information, the \textbf{\textit{Information Manager}} can't retrieve this type of data and the user can't visualize the traffic tickets statistics. So if an \textbf{\textit{User}} wants to see traffic tickets statistic but the \textbf{\textit{Authority}} doesn't give the permission, a message saying \textit{Permission Denied} is displayed back to the User. The flow restart from point 3.  
		\end{enumerate}}\\
	
	\hline
	
\end{tabularx}

\newpage
\section{Product Functions}
In this section the most important features of the application are extensively explained:
\begin{itemize}
	\item \textbf{Commit of a Report}: the System allows a Citizen to notify Authorities whenever a traffic violations and accidents occur. This function is achieved by compiling a Report with a picture of the violation, the date, time, position, and type of violation. Not all of these fields are always compulsory: in case the type of violation is \textit{accident}, only date, time and position are required. Once all the information is gathered and the report is sent to SafeStreets, the Report Manager goes in the \texttt{Verify Information} status: it checks if all the obligatory fields have been compiled correctly, and then adds some useful metadata to the Report. Among the additional metadata, the systems takes note of whether or not the position has been provided by GPS, and also if the sender has added any license plate. If no license plate has been inserted, the Report Manager runs an OCR algorithm to retrive it from the picture provided. \\
	After all the steps above, the Report is confirmed (\texttt{Repor Confirmed} status) and it is notified to the Authorities, which we assume are going to handle it properly (g.e. dispatching a local police patrol). It is important to outline that the System is only designed to inform Authorities whenever a new report is confirmed, but by no means it provides a function which generates official traffic tickets or dispatches patrols in case of accidents. Also, it's relevant to notice that the Report Manager contains a list of all the Authorities, so it can notify all and only those Authorities who are on duty in the involved municipality. \\
	Once the report has been confimed and notified, the System enters the status \texttt{Ready to Store}: the report is saved into a local buffer and there awaits to be exported into SafeStreets' database. Each day at a set time (g.e. between day/night shifts of the police) the System permanently stores all the Reports into the database. This mechanism takes advantages of the fact that one does not need fresh data to do general statistics, and in return it gives the possibility to schedule the report storage when the System is not busy.

	\item \textbf{Build statistics}: the System analyzes the stored data to compute general statistics and returns useful information to the Users. This function is carried out by an Information Manager, which is in charge of gathering the needed information from the storage an elaborating it. In particular, the Information Manager periodically executes the following functions:
	\begin{enumerate}
		\item Compute a statistic which highlights the areas and vehicles with the highest frequency of violations.
		\item Identify potentially unsafe areas by analyzing Reports of accidents, and suggest possible interventions.
		\item Analyze traffic ticket trends to build statistics about the most recurrent offenders or the effectiveness of SafeStreets.
	\end{enumerate}
	Every User can request to see the latest result of the functions above as soon as they are available. Since both Citizen and Authorities have access to those results, it's really important to give them different levels of visibility, so that classified information doesn't end up in the hands of civilians (g.e vehicles with the highest frequency of violations and most recurrent offenders). It is also worth noting that some of the above functions are enhanced, or even enabled, only if the municipalities grant the System access to their database. In particular, function 2 can be enhanced by crossing Authorities' accident information with Safestreets', whereas function 3 is entirely enabled only if the System has access to traffic tickets data.

\end{itemize}
\newpage
\section{User Characteristics}
SafeStreets can be used from both Citizens and Authorities. It is recommended for adult user but there are not limitation of age. 
We give for granted that the Users have access to Internet and are able to install anduse the mobile application.\\
The character are:
\begin{itemize}
	\item \textit{Guest}:someone who downloads and opens the app but still has to sign
	up. He/she cannot use any of the functions provided by SafeStreets.
	\item \textit{User}: a registered Guest who has to log-in in order to access any feature of the application. He/she can retrieve his/her personal data from any
	device with the app installed just providing credentials.
	\item \textit{Citizen}: a person who logged-in with his credentials, which is recognized by the System through an ID. He/she can access to the personal data menu and add new reports.
	\item \textit{Authority}: a person who logged-in with his credentials. He/she can access to all the Report that has been notified for the municipality of belonging.
\end{itemize}

\section{Assumptions, Dependencies and Constraints}
\subsection{Assumptions}
\begin{itemize}
	\item {D.1} %gestione mail?
\end{itemize}
\subsection{Dependencies}
\begin{itemize}
	\item The System needs a DBMS in order to store and retrieve Users’ report.
	\item Information on issued ticket are provided by the Authorities' DBMS, if they give the System free access.
	\item OCR tool is provided by external thrid party services.
\end{itemize}
\subsection{Constraints}
\begin{itemize}
	\item Users must have a smartphone equipped with an OS compatible with the application.
	\item Users must have Internet connection.
	\item The System must ask Users for the permission to acquire acquire store personal data. Therefore, the System must offer 
	the possibility to the Users to delete their personal account.
\end{itemize}

\chapter{Specific Requirements}
\section{External Interface Requirement}
SafeStreets is a mobile based application. In the following sections is given a more detailed description of the application in terms of hardware, software and communication interface. There are also present some prototype of User interface through mockup.
\subsection{Hardware Interface}
The application is avaiable for mobile devices that guarantee Internet access with a reasonably recent browser and have a camera with a fairly high definition.
\subsection{Software Interface}
\begin{itemize}
\item \textbf{Operating System}: iOS, Android.
\item Web browser.
\item Web Server application.
\item DBMS.
\item \textbf{Report System}: use third part services as OCR.
\item \textbf{Mailing System}: APIs to send emails to the User.
\item \textbf{Mapping System}: APIs to locate the position of the traffic violation.
\end{itemize}
\subsection{Communication Interface}
The application runs over HTTPS protocol for the communication over the Internet and with the DBMS.
\section{Functional Requirements}
In the following section are explained the functional requirements of the application.
%TODO: Requirements che erano goal, da aggiustare successivamente
\begin{itemize}
	\item {[R.1]} A visitor must be able to register. During the registration the System will ask to provide credentials.
	\item {[R.2]}The System must check if the Guest credentials are valid:
		\begin{itemize}
			\item the username is not already taken by another registered User.
			\item the email is in the right format
			\item the password has a minimum length
			\item \textbf{Only for Authority}: 
		\end{itemize}
		If credentials are correct, the System sends a confirmation email.
	\item {[G.4]} The Report Manager handles the submissions:
    {\setlength\itemindent{25pt} \item {[G.4.1]} Before accepting any Report, the Report Manager ensures that it contains a picture of the violation, the date, time, position, and type of violation.}
    {\setlength\itemindent{25pt} \item {[G.4.2]} The Report Manager notifies all logged in Authorities whenever a new Report is accepted.}
    {\setlength\itemindent{25pt} \item {[G.4.3]} The Report Manager must ensure that no more than one Authority has taken in charge the same Report.}
    {\setlength\itemindent{25pt} \item {[G.4.4]} The Report Manager notifies Citizens whenever one of their Reports has been taken in charge by an Authority.}
	\item {[G.9]} The System can accedes to the stored traffic tickets with a permission from the local municipality.
\end{itemize}

\section{Software System Attribute}
\subsection{Reliability}
The System (and all its components) should guarantees a 99\% of reliability.
\subsection{Availability}
The System must guarantee an high availability, indeed it has to offer a continuous service 24 hours every day. 
\subsection{Security}
User credentials and data will be stored in a DBMS that should guarantee an high level of security. To reach this goal the passwords stored in the DBMS are salted and hashed, in this way a sequence of generic characters of any length is concatenated to the password, hashed it all and stored in the DBMS.
Hash is used also to stored the report so that the informations cannot be altered by anyone. So as soon as a report arrives to the Report Manager, the hash of the report is computed, encrypted to form a digital signature and then it is stored. In this way we create a snapshot of the report ensuring the identity, authenticity and non-tampered state of the informations.
As mentioned before, the System uses HTTP over SSL protocol (HTTPS) to comunicate with all the services in order to guarantee privacy and protection of the exchanged informations.
\newline
If someone break into the OCR service, the System is not responsible in case of damage, due to the fact that its functionalities are provided by third-part services.  
\subsection{Maintainability}
\subsection{Portability}


\end{document}